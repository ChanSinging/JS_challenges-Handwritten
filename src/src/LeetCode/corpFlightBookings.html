<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>corpFlightBookings</title>
</head>
<body>
<script type="text/javascript">
    function corpFlightBookings (book, n) {
        // 简单的解法
        const res = new Array(n).fill(0)
        for (ite of book) {
            let l = ite[0] - 1
            let r = ite[1] - 1
            let val = ite[2]
            console.log(ite)
            for (let i = l; i <= r; i++) {
                res[i] += val
            }
        }
        return res
    }

    function corpFlightBookings2 (books, n) {
        // 使用差分数组
        const nums = new Array(n).fill(0)
        for (const book of books) {
            nums[book[0] - 1] += book[2]
            if (book[1] < n) {
                nums[book[1]] -= book[2] // 差分函数  booking=[l,r,inc]，我们需要让 d[l-1]d[l−1] 增加 \textit{inc}inc，d[r]d[r] 减少 \textit{inc}inc
            }
        }
        console.log(nums)
        for (let i = 1; i < nums.length; i++) {
            nums[i] += nums[i-1]
        }
        return nums
    }


    let book = [[1, 2, 10], [2, 3, 20], [2, 5, 25]]
    let n = 5
    console.log(corpFlightBookings2(book, n))
</script>
</body>
</html>
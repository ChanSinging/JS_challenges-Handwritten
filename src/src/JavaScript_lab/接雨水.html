<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>接雨水</title>
</head>
<body>
<script type="text/javascript">
    function pickRain (nums) {
        // 经典接雨水，找左边的最高点和右边的最高点
        // use two point to deal with
        if (nums.length === 0) return 0
        let n = nums.length
        let res = 0
        // 简历备忘录
        let l_max = new Array(n).fill(-1)
        let r_max = new Array(n).fill(-1)
        // 初始化
        l_max[0] = nums[0]
        r_max[n - 1] = nums[n - 1]
        // 从左往右计算 l_max
        for (let i = 1; i < n; i++) {
            l_max[i] = Math.max(nums[i], l_max[i - 1])
        }
        // 从右往左计算 r_max
        for (let i = n - 2; i >= 0; i--) {
            r_max[i] = Math.max(nums[i], r_max[i + 1])
        }
        // 在0-n内，找出越靠中间的l、r_max
        for (let i = 1; i < n - 1; i++) {
            res += Math.min(l_max[i], r_max[i]) - nums[i]
        }
        return res
    }

    let nums = [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1]
    console.log(pickRain(nums))
</script>
</body>
</html>